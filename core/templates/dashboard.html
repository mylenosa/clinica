<!DOCTYPE html>
<html lang="pt-br">
<head>
    <title>Dashboard da ClÃ­nica</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css"
>
</head>
<body style="margin: 20px; padding: 20px;">
    <br/>
    <h1 style="text-align: center">Dashboard da ClÃ­nica do Luis!!!!!!</h1>
    <br/>
    <section>
        <h2>1. Pacientes por AmbulatÃ³rio</h2>
        <p>Este grÃ¡fico de <strong>barras</strong> Ã© muito top e mostra a quantidade de pacientes
            alocados por ambulatÃ³rio, utilizando a biblioteca Chart.js, que Ã© uma biblioteca daora</p>
        <br/>
        <div style="display: flex; justify-content: center;">
        <canvas id="graficoAmbulatorio" style="max-width: 500px; max-height: 350px;"></canvas>
        </div>
    </section>
    <br/>
    <a href="{% url 'pdf_pacientes_ambulatorio' %}" target="_blank">
    <button>ğŸ“„ Gerar PDF - Pacientes por AmbulatÃ³rio</button>
    </a>
    <br/><br/>
    <section>
        <br/>
        <h2>2. MÃ©dicos por ConvÃªnio</h2>
        <p>GrÃ¡fico do tipo <strong>pizza</strong> (nÃ£o Ã© de comer) para dar uma olhada na distribuiÃ§Ã£o de
            mÃ©dicos entre os convÃªnios. A biblioteca usada tambÃ©m foi a Chart.js.</p>
        <br/>
        <div style="display: flex; justify-content: center;">
        <canvas id="graficoConvenio" style="max-width: 400px; max-height: 400px;"></canvas>
        </div>
    </section>
    <br/>
    <a href="{% url 'pdf_medicos_convenio' %}" target="_blank">
    <button>ğŸ“„ Gerar PDF - MÃ©dicos por ConvÃªnio</button>
    </a>
    <br/>
    <section>
        <br/>
        <h2>3. Consultas por Dia</h2>
        <p>GrÃ¡fico interativo que achei bem bonito gerado com a biblioteca <strong>Plotly</strong>,
            que mostra o total de consultas realizadas por dia.</p>
        <br/>
        {{ plotly_html|safe }}
    </section>
    <br/>
    <a href="{% url 'pdf_consultas' %}" target="_blank">
    <button>ğŸ“„ Gerar PDF - Consultas</button>
    </a>
    <br/><br/>
    <section style="background-color: black; margin: 10px; padding: 10px; border-radius: 30px;">
        <br/>
        <p style="text-align: center;">PreguiÃ§a de clicar de relatÃ³rio em relatÃ³rio? acesse o relatÃ³rio geral, que junta eles
        para vocÃª nÃ£o perder tempo e jÃ¡ dar a nota mÃ¡xima ğŸ‘ğŸ‘ğŸ‘ğŸ‘ğŸ‘</p>
    <div style="text-align: center; margin-top: 30px;">
        <a href="{% url 'dashboard_pdf' %}" target="_blank">
            <button style="padding: 10px 20px; font-size: 16px;">ğŸ“„ Gerar RelatÃ³rio PDF</button>
        </a>

    </div>
        <br/>
    </section>
    <script>
        new Chart(document.getElementById('graficoAmbulatorio'), {
            type: 'bar',
            data: {
                labels: {{ labels_amb|safe }},
                datasets: [{
                    label: 'Total de Pacientes',
                    data: {{ valores_amb|safe }},
                    backgroundColor: 'rgba(54, 162, 235, 0.6)'
                }]
            },
            options: {
                scales: {
                    y: { beginAtZero: true }
                }
            }
        });

        new Chart(document.getElementById('graficoConvenio'), {
            type: 'pie',
            data: {
                labels: {{ labels_conv|safe }},
                datasets: [{
                    label: 'MÃ©dicos por ConvÃªnio',
                    data: {{ valores_conv|safe }},
                    backgroundColor: ['#ff6384', '#36a2eb', '#cc65fe', '#ffce56', '#2ecc71']
                }]
            }
        });
    </script>
</body>
</html>